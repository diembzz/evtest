import{v,c as h}from"./C-jyEtyI.js";import{E as b,a as q,b as z,c as C}from"./CHyC6uXQ.js";import{d as m,v as d,z as t,A as o,Y as E,E as k,P as r,S as $,W as S,i as w,t as l,B,L as u}from"./BsQ1qeEF.js";import{s as A,t as N}from"./BCnD8WR-.js";import"./CnLygznj.js";import"./l0sNRNKZ.js";import"./DcAYSCT0.js";import{A as L}from"./Cy43Ywnd.js";import"./tZ1a-uO1.js";const P={key:0,class:"venues-search-pagination"},T=m({data:()=>({loading:!0,items:[],pagination:{page:0,pages:0,total:0,size:0}}),watch:{"$route.query":{async handler(){this.loading=!0;const e=await new L("venues").index({page:(this._.provides[r]||this.$route).query.page,sort:(this._.provides[r]||this.$route).query.sort});this.items=e,this.pagination=e.meta().pagination,this.loading=!1},deep:!0,immediate:!0}}}),I=m({...T,__name:"index",setup(g){return(e,n)=>{const i=h,s=w("router-link"),p=z,c=C,_=b,f=q,y=v;return l(),d(S,null,[t(s,{to:"/venues/create"},{default:o(()=>[t(i,{type:"primary",class:"ui-datalist-create-btn"},{default:o(()=>[B("Create ")]),_:1})]),_:1}),E((l(),k(_,{data:e.items,border:!e.loading,"empty-text":e.loading?"Loading...":"Data records not found.","default-sort":{prop:String((e._.provides[r]||e.$route).query.sort??"").replace(/^-/,""),order:String((e._.provides[r]||e.$route).query.sort??"").startsWith("-")?"descending":"ascending"},onSortChange:n[0]||(n[0]=a=>e.$router.replace({query:{...(e._.provides[r]||e.$route).query,sort:a.order?(a.order=="descending"?"-":"")+a.prop:""}}))},{default:o(()=>[t(p,{prop:"name",label:"Name",sortable:"custom"}),t(p,{label:"Actions",width:"81"},{default:o(({row:a})=>[t(c,{direction:"horizontal",size:7},{default:o(()=>[t(s,{to:"/venues/"+a.id},{default:o(()=>[t(i,{type:"primary",icon:u(A),size:"small",circle:""},null,8,["icon"])]),_:2},1032,["to"]),t(s,{to:"/venues/"+a.id+"/delete"},{default:o(()=>[t(i,{type:"danger",icon:u(N),size:"small",circle:""},null,8,["icon"])]),_:2},1032,["to"])]),_:2},1024)]),_:1})]),_:1},8,["data","border","empty-text","default-sort"])),[[y,e.loading]]),e.loading?$("",!0):(l(),d("div",P,[t(f,{background:"",layout:"prev, pager, next",onCurrentChange:n[1]||(n[1]=a=>e.$router.replace({query:{...(e._.provides[r]||e.$route).query,page:a}})),"current-page":e.pagination.page,"page-size":e.pagination.size,total:e.pagination.total},null,8,["current-page","page-size","total"])]))],64)}}});export{I as default};
