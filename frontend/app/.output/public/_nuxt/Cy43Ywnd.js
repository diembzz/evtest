var S=Object.defineProperty;var x=(s,e,t)=>e in s?S(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var o=(s,e,t)=>x(s,typeof e!="symbol"?e+"":e,t);import{at as z,aa as C,au as I,a as O,M as P,u as _,L as N,av as E,aw as T,ax as k,ay as L}from"./BCnD8WR-.js";import{I as y,j as u,L as h,r as j,a3 as g,M as A}from"./BsQ1qeEF.js";function G(s,e,t){return s==null?s:z(s,e,t)}const p=s=>Object.keys(s),M=s=>Object.entries(s),U=(s,e,t)=>({get value(){return C(s,e,t)},set value(a){G(s,e,a)}}),K=["","default","small","large"],D=I({type:String,values:K,required:!1}),m=Symbol("size"),F=()=>{const s=y(m,{});return u(()=>h(s.size)||"")},b=Symbol(),f=j();function w(s,e=void 0){const t=g()?y(b,f):f;return s?u(()=>{var a,n;return(n=(a=t.value)==null?void 0:a[s])!=null?n:e}):t}function Y(s,e){const t=w(),a=O(s,u(()=>{var r;return((r=t.value)==null?void 0:r.namespace)||P})),n=_(u(()=>{var r;return(r=t.value)==null?void 0:r.locale})),i=N(u(()=>{var r;return((r=t.value)==null?void 0:r.zIndex)||E})),c=u(()=>{var r;return h(e)||((r=t.value)==null?void 0:r.size)||""});return q(u(()=>h(t)||{})),{ns:a,locale:n,zIndex:i,size:c}}const q=(s,e,t=!1)=>{var a;const n=!!g(),i=n?w():void 0,c=(a=void 0)!=null?a:n?A:void 0;if(!c)return;const r=u(()=>{const d=h(s);return i!=null&&i.value?R(i.value,d):d});return c(b,r),c(T,u(()=>r.value.locale)),c(k,u(()=>r.value.namespace)),c(L,u(()=>r.value.zIndex)),c(m,{size:u(()=>r.value.size||"")}),(t||!f.value)&&(f.value=r.value),r},R=(s,e)=>{const t=[...new Set([...p(s),...p(e)])],a={};for(const n of t)a[n]=e[n]!==void 0?e[n]:s[n];return a};class l{constructor(e){o(this,"meta");o(this,"errors");o(this,"status");o(this,"success");Object.assign(this,e.data??{}),this.meta=()=>e.meta??{},this.errors=()=>e.errors??{},this.status=()=>e.status??0,this.success=()=>e.success??!1}error(e=""){return this.errors()[e]??""}}class v extends Array{constructor(t){super();o(this,"meta");o(this,"errors");o(this,"status");o(this,"success");this.push(...t.data??[]),this.meta=()=>t.meta??{},this.errors=()=>t.errors??{},this.status=()=>t.status??0,this.success=()=>t.success??!1}static make(t){return new v(t)}error(t=""){return this.errors()[t]??""}}class ${constructor(e){o(this,"base","http://localhost/api/v1");this.resource=e}async list(e={}){return new v(await this.get(this.resource+"/list",e))}async index(e={}){return new v(await this.get(this.resource,e))}async show(e,t={}){return new l(await this.get(this.resource+"/"+Number(e),t))}async store(e={}){return new l(await this.post(this.resource,e))}async update(e,t={}){return new l(await this.patch(this.resource+"/"+Number(e),t))}async save(e={}){return e.id?this.update(e.id,e):this.store(e)}async destroy(e,t={}){return new l(await this.delete(this.resource+"/"+Number(e),t))}get(e,t={}){return this.fetch("GET",e+this.query(this.clean(t)))}patch(e,t={}){return this.fetch("PATCH",e,this.clean(t))}post(e,t={}){return this.fetch("POST",e,this.clean(t))}delete(e,t={}){return this.fetch("DELETE",e+this.query(this.clean(t)))}async fetch(e,t,a={}){const n={baseURL:this.base,method:e};return["POST","PATCH"].includes(e)&&(n.body=JSON.stringify(a)),await $fetch(t,n).then(i=>i,i=>i.response._data)}query(e){return Object.keys(e).length?"?"+new URLSearchParams(e).toString():""}clean(e){for(let t in e)e[t]===void 0&&delete e[t];return e}}export{$ as A,w as a,Y as b,K as c,F as d,M as e,U as g,D as u};
