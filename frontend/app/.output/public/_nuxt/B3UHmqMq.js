import{E as h,a as v,b,c as q}from"./BXrzqCWq.js";import{v as z,c as C}from"./B6GzzAEY.js";import{d as m,v as d,Y as E,E as k,A as r,P as a,z as o,S as $,W as S,i as w,t as i,L as u}from"./D825Yx2c.js";import{s as A,t as B}from"./DafI-t-O.js";import"./CVOUIdTD.js";import"./l0sNRNKZ.js";import"./BtMFUubj.js";import{A as L}from"./DAEPLsST.js";import"./C910a0G-.js";const N={key:0,class:"venues-search-pagination"},P=m({data:()=>({loading:!0,items:[],pagination:{page:0,pages:0,total:0,size:0}}),watch:{"$route.query":{async handler(){this.loading=!0;const e=await new L("venues").index({page:(this._.provides[a]||this.$route).query.page,sort:(this._.provides[a]||this.$route).query.sort});this.items=e,this.pagination=e.meta().pagination,this.loading=!1},deep:!0,immediate:!0}}}),H=m({...P,__name:"index",setup(g){return(e,n)=>{const s=b,l=C,p=w("router-link"),c=q,_=h,f=v,y=z;return i(),d(S,null,[E((i(),k(_,{data:e.items,border:!e.loading,"empty-text":e.loading?"Loading...":"Data records not found.","default-sort":{prop:String((e._.provides[a]||e.$route).query.sort??"").replace(/^-/,""),order:String((e._.provides[a]||e.$route).query.sort??"").startsWith("-")?"descending":"ascending"},onSortChange:n[0]||(n[0]=t=>e.$router.replace({query:{...(e._.provides[a]||e.$route).query,sort:t.order?(t.order=="descending"?"-":"")+t.prop:""}}))},{default:r(()=>[o(s,{prop:"name",label:"Name",sortable:"custom"}),o(s,{label:"Actions",width:"81"},{default:r(({row:t})=>[o(c,{direction:"horizontal",size:7},{default:r(()=>[o(p,{to:"/venues/"+t.id},{default:r(()=>[o(l,{type:"primary",icon:u(A),size:"small",circle:""},null,8,["icon"])]),_:2},1032,["to"]),o(p,{to:"/venues/"+t.id+"/delete"},{default:r(()=>[o(l,{type:"danger",icon:u(B),size:"small",circle:""},null,8,["icon"])]),_:2},1032,["to"])]),_:2},1024)]),_:1})]),_:1},8,["data","border","empty-text","default-sort"])),[[y,e.loading]]),e.loading?$("",!0):(i(),d("div",N,[o(f,{background:"",layout:"prev, pager, next",onCurrentChange:n[1]||(n[1]=t=>e.$router.replace({query:{...(e._.provides[a]||e.$route).query,page:t}})),"current-page":e.pagination.page,"page-size":e.pagination.size,total:e.pagination.total},null,8,["current-page","page-size","total"])]))],64)}}});export{H as default};
